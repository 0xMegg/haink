exports.id=283,exports.ids=[283],exports.modules={7314:(e,r,s)=>{Promise.resolve().then(s.bind(s,6086))},636:(e,r,s)=>{Promise.resolve().then(s.bind(s,6309)),Promise.resolve().then(s.t.bind(s,6568,23))},6191:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,4424,23)),Promise.resolve().then(s.t.bind(s,7752,23)),Promise.resolve().then(s.t.bind(s,5275,23)),Promise.resolve().then(s.t.bind(s,9842,23)),Promise.resolve().then(s.t.bind(s,1633,23)),Promise.resolve().then(s.t.bind(s,9224,23))},6309:(e,r,s)=>{"use strict";s.d(r,{ProductForm:()=>E});var t=s(3227),o=s(3677),a=s(1043),n=s(9342),i=s(2837),l=s(6086),d=s(2450);let c=["LEGACY_IMWEB","MASTER"],u=["IMWEB","MASTER"],m=d.Km(c),g=d.Km(u),p=d.Ry({productId:d.Z_().min(1,"IMWEB 상품번호를 입력하세요."),name:d.Z_().min(1,"상품명을 입력하세요."),categoryIdsRaw:d.Z_().min(1,"카테고리 ID를 입력하세요."),priceSale:d.oQ.number().int().nonnegative("가격은 0 이상이어야 합니다."),inventoryTrack:d.O7(),stockQty:d.oQ.number().int().nonnegative().nullable().optional(),descriptionHtml:d.Z_().optional(),saleStatus:d.Z_().optional(),displayStatus:d.O7(),optionName:d.Z_().optional().nullable(),optionValues:d.Z_().optional(),issuedCategoryId:d.Z_().optional(),currentCategoryId:d.Z_().optional(),sotMode:m.optional(),externalUrl:d.Z_().url("올바른 URL 형식이 아닙니다.").or(d.i0("")).optional(),sourceOfTruth:g.optional(),rawSnapshot:d.Z_().optional()});var f=s(1126),x=s(2890);function b(...e){return(0,x.m6)((0,f.W)(e))}var h=s(2007);let v=(0,s(1086).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=o.forwardRef((e,r)=>{let{className:s,variant:o,size:a,asChild:n=!1,...i}=e,l=n?h.g7:"button";return t.jsx(l,{className:b(v({variant:o,size:a,className:s})),ref:r,...i})});y.displayName="Button";let j=o.forwardRef(({className:e,type:r="text",...s},o)=>t.jsx("input",{type:r,className:b("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...s}));j.displayName="Input";let w=o.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:b("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));w.displayName="Textarea";var N=s(9235);let I=o.forwardRef(({className:e,...r},s)=>t.jsx(N.fC,{className:b("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:s,children:t.jsx(N.bU,{className:"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})}));I.displayName=N.fC.displayName;let S=o.forwardRef(({className:e,...r},s)=>t.jsx("label",{ref:s,className:b("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));S.displayName="Label";let k={productId:"",name:"",categoryIdsRaw:"",priceSale:0,inventoryTrack:!1,stockQty:null,descriptionHtml:"",saleStatus:"",displayStatus:!0,optionName:"",optionValues:"",issuedCategoryId:"",currentCategoryId:"",sotMode:"LEGACY_IMWEB",externalUrl:"",sourceOfTruth:"IMWEB",rawSnapshot:""},C="flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50";function E({mode:e,productId:r,defaultValues:s}){let d=(0,a.useRouter)(),m=(0,n.cI)({resolver:(0,i.F)(p),defaultValues:{...k,...s,productId:s?.productId??"",optionValues:s?.optionValues??"",currentCategoryId:s?.currentCategoryId??"",issuedCategoryId:s?.issuedCategoryId??"",sotMode:s?.sotMode??"LEGACY_IMWEB",sourceOfTruth:s?.sourceOfTruth??"IMWEB",externalUrl:s?.externalUrl??"",rawSnapshot:s?.rawSnapshot??""}}),[g,f]=o.useState(!1),x=m.watch("inventoryTrack");o.useEffect(()=>{x||m.setValue("stockQty",null,{shouldDirty:!0})},[x,m]);let b=m.handleSubmit(async s=>{try{f(!0);let t="create"===e?"/api/products":`/api/products/${r}`,o=await fetch(t,{method:"create"===e?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await o.json();if(!o.ok)throw Error(a.error??"요청이 실패했습니다.");l.A.success("create"===e?"상품이 등록되었습니다.":"상품이 수정되었습니다."),d.refresh(),"create"===e&&m.reset(k)}catch(r){let e=r instanceof Error?r.message:"알 수 없는 오류";l.A.error(e)}finally{f(!1)}});return(0,t.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(T,{label:"IMWEB 상품번호",required:!0,children:[t.jsx(j,{placeholder:"예: 5757",disabled:"edit"===e,...m.register("productId")}),t.jsx(M,{message:m.formState.errors.productId?.message})]}),(0,t.jsxs)(T,{label:"상품명",required:!0,children:[t.jsx(j,{placeholder:"상품명",...m.register("name")}),t.jsx(M,{message:m.formState.errors.name?.message})]}),(0,t.jsxs)(T,{label:"카테고리 ID (쉼표 구분)",required:!0,children:[t.jsx(j,{placeholder:"CATE9,CATE44",...m.register("categoryIdsRaw")}),t.jsx(M,{message:m.formState.errors.categoryIdsRaw?.message})]}),(0,t.jsxs)(T,{label:"판매가",required:!0,children:[t.jsx(j,{type:"number",min:0,step:1,...m.register("priceSale",{valueAsNumber:!0})}),t.jsx(M,{message:m.formState.errors.priceSale?.message})]}),t.jsx(T,{label:"판매 상태",children:t.jsx(j,{placeholder:"판매중",...m.register("saleStatus")})}),(0,t.jsxs)(T,{label:"SOT 모드",required:!0,children:[t.jsx("select",{className:C,...m.register("sotMode"),children:c.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx(M,{message:m.formState.errors.sotMode?.message})]}),t.jsx(T,{label:"옵션 이름",children:t.jsx(j,{placeholder:"예: VERSION",...m.register("optionName")})}),t.jsx(T,{className:"md:col-span-2",label:"옵션 값 (쉼표 구분)",children:t.jsx(j,{placeholder:"KARINA,GISELLE",...m.register("optionValues")})}),t.jsx(T,{className:"md:col-span-2",label:"상품 상세",children:t.jsx(w,{rows:4,...m.register("descriptionHtml")})})]}),(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(T,{label:"발급 기준 카테고리 ID",children:[t.jsx(j,{placeholder:"issued_category_id",...m.register("issuedCategoryId")}),t.jsx(M,{message:m.formState.errors.issuedCategoryId?.message})]}),(0,t.jsxs)(T,{label:"현재 카테고리 ID",children:[t.jsx(j,{placeholder:"current_category_id",...m.register("currentCategoryId")}),t.jsx(M,{message:m.formState.errors.currentCategoryId?.message})]})]}),(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-3",children:[t.jsx(R,{label:"재고 관리",description:"Y면 수량 입력 필요",children:t.jsx(I,{checked:m.watch("inventoryTrack"),onCheckedChange:e=>m.setValue("inventoryTrack",e,{shouldDirty:!0})})}),t.jsx(T,{label:"재고 수량",children:t.jsx(j,{type:"number",min:0,step:1,disabled:!x,...m.register("stockQty",{valueAsNumber:!0})})}),t.jsx(R,{label:"노출 상태",children:t.jsx(I,{checked:m.watch("displayStatus"),onCheckedChange:e=>m.setValue("displayStatus",e,{shouldDirty:!0})})})]}),(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(T,{label:"외부 상품 URL",children:[t.jsx(j,{type:"url",placeholder:"https://...",...m.register("externalUrl")}),t.jsx(M,{message:m.formState.errors.externalUrl?.message})]}),(0,t.jsxs)(T,{label:"Source of Truth",children:[t.jsx("select",{className:C,...m.register("sourceOfTruth"),children:u.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx(M,{message:m.formState.errors.sourceOfTruth?.message})]}),t.jsx(T,{className:"md:col-span-2",label:"Raw Snapshot JSON",children:t.jsx(w,{rows:4,placeholder:'{"foo":"bar"}',...m.register("rawSnapshot")})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(y,{type:"submit",disabled:g,children:"create"===e?"상품 등록":"상품 수정"}),"edit"===e&&t.jsx(y,{type:"button",variant:"outline",onClick:()=>m.reset(m.getValues()),children:"변경 취소"})]})]})}function T({label:e,children:r,required:s,className:o}){return(0,t.jsxs)("div",{className:b("flex flex-col gap-2",o),children:[(0,t.jsxs)(S,{children:[e,s?t.jsx("span",{className:"ml-1 text-destructive",children:"*"}):null]}),r]})}function R({label:e,description:r,children:s}){return(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:e}),r?t.jsx("p",{className:"text-xs text-muted-foreground",children:r}):null]}),s]})}function M({message:e}){return e?t.jsx("p",{className:"text-sm text-destructive",children:e}):null}},2567:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n,metadata:()=>a});var t=s(9013);s(1);var o=s(8556);let a={title:"Imweb Master DB Admin",description:"Imweb 상품 마스터 DB 관리 도구"};function n({children:e}){return t.jsx("html",{lang:"ko",children:(0,t.jsxs)("body",{className:"min-h-screen bg-background text-foreground font-sans",children:[(0,t.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-8",children:[(0,t.jsxs)("header",{className:"mb-8 flex flex-col gap-2 border-b pb-4",children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"Imweb Master DB Admin"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"상품 등록 및 수정을 위한 내부용 도구"})]}),t.jsx("main",{children:e})]}),t.jsx(o.x7,{richColors:!0,position:"top-right",closeButton:!0})]})})}},1613:(e,r,s)=>{"use strict";s.d(r,{H:()=>t});let t=(0,s(3189).createProxy)(String.raw`/Users/mero/Documents/New project/apps/admin/src/components/products/product-form.tsx#ProductForm`)},313:(e,r,s)=>{"use strict";s.d(r,{z:()=>d});var t=s(9013),o=s(6321),a=s(5719),n=s(4760),i=s(537);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,r)=>{let{className:s,variant:o,size:n,asChild:d=!1,...c}=e,u=d?a.g7:"button";return t.jsx(u,{className:(0,i.cn)(l({variant:o,size:n,className:s})),ref:r,...c})});d.displayName="Button"},537:(e,r,s)=>{"use strict";s.d(r,{cn:()=>a});var t=s(9201),o=s(5832);function a(...e){return(0,o.m6)((0,t.W)(e))}},1:()=>{}};